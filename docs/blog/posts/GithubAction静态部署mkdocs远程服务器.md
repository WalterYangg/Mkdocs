---
title: Github Actioné™æ€éƒ¨ç½²mkdocsè¿œç¨‹æœåŠ¡å™¨
date: 2026-2-6
tags:
  - mkdocs
categories:
  - å¤‡å¿˜
author: Walter
---

<!-- more -->

# Github Actioné™æ€éƒ¨ç½²mkdocsè¿œç¨‹æœåŠ¡å™¨

## ä¸€ã€æœ¬åœ°å¼€å‘ä¸ç¯å¢ƒå‡†å¤‡

- **æ ¸å¿ƒæ“ä½œ**ï¼šåœ¨æœåŠ¡å™¨ä½¿ç”¨ Docker è¿è¡Œ `mkdocs serve` æˆ– `mkdocs build` è¿›è¡Œæœ¬åœ°å¼€å‘å’Œæµ‹è¯•ã€‚
- **å…³é”®è®¤çŸ¥**ï¼šæ˜ç¡®åŒºåˆ†**å¼€å‘ç¯å¢ƒ**ï¼ˆæœåŠ¡å™¨/Dockerï¼‰å’Œ**æ„å»º/éƒ¨ç½²ç¯å¢ƒ**ï¼ˆGitHub Actions äº‘ç«¯ï¼‰ã€‚ä¸¤è€…ç¯å¢ƒç‹¬ç«‹ï¼Œä¾èµ–éœ€åˆ†åˆ«ç®¡ç†ã€‚

## äºŒã€GitHub Actions å·¥ä½œæµåŠè‡ªåŠ¨åŒ–æµæ°´çº¿é…ç½®

åœ¨`mkdocs.yml`çš„åŒçº§ç›®å½•ä¸‹åˆ›å»º `.github/workflows/deploy.yml`ï¼š

``` 
name: Deploy MkDocs

on:
  push:
    branches:
      - main        # ä¸»åˆ†æ”¯æ¨é€æ—¶è§¦å‘
      - master      # æˆ– master åˆ†æ”¯
  pull_request:
    branches:
      - main
      - master
  # æ‰‹åŠ¨è§¦å‘é€‰é¡¹
  workflow_dispatch:

# è®¾ç½®æƒé™
permissions:
  contents: write
  pages: write
  id-token: write

# åªå…è®¸ä¸€ä¸ªå¹¶å‘éƒ¨ç½²
concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          fetch-depth: 0  # è·å–æ‰€æœ‰å†å²ï¼Œä¾¿äºç‰ˆæœ¬åŠŸèƒ½

      - name: Setup Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.11'
          cache: 'pip'    # å¯ç”¨ pip ç¼“å­˜

      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install mkdocs mkdocs-material
          # å¦‚æœæœ‰ requirements.txt
          if [ -f requirements.txt ]; then pip install -r requirements.txt; fi

      - name: Build documentation
        run: mkdocs build --strict --verbose

      - name: Setup Pages
        uses: actions/configure-pages@v4

      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: ./site  # MkDocs é»˜è®¤è¾“å‡ºç›®å½•

  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    needs: build
    if: github.ref == 'refs/heads/main' || github.ref == 'refs/heads/master'
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4

```

**åˆ›å»º `requirements.txt` æ–‡ä»¶**ï¼š

``` 
cd /ä½ çš„/å®¿ä¸»æœº/é¡¹ç›®è·¯å¾„
echo "mkdocs
mkdocs-material" > requirements.txt
```



## ä¸‰ã€GITä»£ç ç®¡ç†ä¸ä»“åº“é…ç½®

- **æ ¸å¿ƒæ“ä½œ**ï¼š
  1. åœ¨ GitHub åˆ›å»ºä»“åº“ï¼ˆé¡¹ç›®ç«™ç‚¹ï¼‰ã€‚
  2. åœ¨æœåŠ¡å™¨é¡¹ç›®ç›®å½•åˆå§‹åŒ– Git (`git init`)ï¼Œæ­£ç¡®å…³è”è¿œç¨‹ä»“åº“ (`git remote add origin ...`)ã€‚

- **å¸¸è§é—®é¢˜**ï¼š
  - Git æƒé™é”™è¯¯ï¼ˆ`safe.directory`, ç”¨æˆ·èº«ä»½ `user.email/name` æœªè®¾ç½®ï¼‰ã€‚
  - è¿œç¨‹ä»“åº“å·²æœ‰å†…å®¹ï¼ˆå¦‚åˆå§‹åŒ– READMEï¼‰å¯¼è‡´æ¨é€å†²çªï¼Œéœ€ä½¿ç”¨ `git pull --allow-unrelated-histories` æˆ– `git push --force-with-lease`ã€‚

### åˆ›å»ºä»“åº“

#### é€šè¿‡ GitHub ç½‘é¡µåˆ›å»ºï¼ˆæœ€å¸¸ç”¨ï¼‰

è¿™æ˜¯æœ€ç›´è§‚çš„æ–¹å¼ï¼Œé€‚åˆç»å¤§å¤šæ•°æƒ…å†µã€‚

1. **ç™»å½•å¹¶è¿›å…¥ä¸»é¡µ**ï¼šè®¿é—® [GitHub](https://github.com/) å¹¶ç™»å½•ã€‚ç‚¹å‡»é¡µé¢å³ä¸Šè§’çš„ **+** å·å›¾æ ‡ï¼Œç„¶åé€‰æ‹© **New repository**ã€‚
2. **å¡«å†™ä»“åº“ä¿¡æ¯**ï¼š
   - **Repository name**ï¼šå¿…å¡«ã€‚ä¸ºæ‚¨çš„ä»“åº“èµ·ä¸€ä¸ªåå­—ï¼ˆä¾‹å¦‚ `my-mkdocs-site`ï¼‰ã€‚
   - **Description**ï¼šé€‰å¡«ã€‚ç®€çŸ­æè¿°æ‚¨çš„é¡¹ç›®ã€‚
3. **é€‰æ‹©ä»“åº“ç±»å‹**ï¼š
   - **Public**ï¼šå…¬å¼€ï¼Œä»»ä½•äººéƒ½èƒ½çœ‹åˆ°ã€‚
   - **Private**ï¼šç§æœ‰ï¼Œåªæœ‰æ‚¨å’Œæ‚¨æˆæƒçš„äººèƒ½çœ‹åˆ°ã€‚
4. **åˆå§‹åŒ–è®¾ç½®**ï¼ˆå¯é€‰ä½†å»ºè®®ï¼‰ï¼š
   - **â˜‘ Add a README file**ï¼šå‹¾é€‰ã€‚åˆ›å»ºä¸€ä¸ª `README.md` æ–‡ä»¶ï¼Œå®ƒæ˜¯é¡¹ç›®çš„é—¨é¢ã€‚
   - **â˜‘ Add .gitignore**ï¼šå‹¾é€‰ã€‚é€‰æ‹©æ¨¡æ¿ï¼ˆå¦‚ `Python`ï¼‰æ¥å¿½ç•¥ä¸å¿…è¦çš„æ–‡ä»¶ã€‚
   - **â˜‘ Choose a license**ï¼šé€‰å¡«ã€‚ä¸ºé¡¹ç›®é€‰æ‹©å¼€æºè®¸å¯è¯ã€‚
5. **å®Œæˆåˆ›å»º**ï¼šç‚¹å‡»é¡µé¢åº•éƒ¨çš„ **Create repository** æŒ‰é’®ã€‚

### è®¾ç½®Github Action

- éœ€è¦åˆ°ä»“åº“ Settings â†’ Pages â†’ Build and deployment
- é€‰æ‹© Source: GitHub Actions

### å®‰è£…Gitå®¢æˆ·ç«¯

```
sudo apt update
sudo apt install git -y
```
### é…ç½® Git ç”¨æˆ·ä¿¡æ¯

åœ¨ä½ çš„ç»ˆç«¯ä¸­ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥è®¾ç½®å…¨å±€çš„ç”¨æˆ·åå’Œé‚®ç®±ï¼ˆè¯·å°†ç¤ºä¾‹ä¿¡æ¯æ›¿æ¢ä¸ºä½ è‡ªå·±çš„ï¼‰ï¼š

```
git config --global user.email "walteryangg@example.com"
git config --global user.name "walteryangg"
```

> **æç¤º**ï¼šè¿™é‡Œçš„é‚®ç®±å’Œç”¨æˆ·åä¼šè®°å½•åœ¨ä½ æœªæ¥çš„æ¯ä¸€æ¬¡æäº¤ä¸­ã€‚é€šå¸¸å»ºè®®ï¼š
>
> - **é‚®ç®±**ï¼šä½¿ç”¨ä½ åœ¨ GitHub ä¸Šè®¾ç½®çš„å…¬å¼€é‚®ç®±ï¼ˆå¯ä»¥åœ¨ GitHub çš„ `Settings -> Emails` ä¸­æŸ¥çœ‹ï¼‰ã€‚
> - **ç”¨æˆ·å**ï¼šä½¿ç”¨ä½ çš„ GitHub ç”¨æˆ·åæˆ–ä½ å¸¸ç”¨çš„æ˜µç§°ã€‚

### å¯¼èˆªåˆ°ä½ çš„é¡¹ç›®ç›®å½•å¹¶åˆå§‹åŒ–ï¼ˆå¦‚æœå°šæœªåˆå§‹åŒ–ï¼‰

æ ¹æ®ä½ æä¾›çš„è·¯å¾„ï¼Œä½ çš„é¡¹ç›®ç›®å½•å¾ˆå¯èƒ½å°±æ˜¯ `/opt/1panel/apps/mkdocs-material/mkdocs/data`ã€‚

æ£€æŸ¥å¹¶åˆå§‹åŒ–Gitä»“åº“ï¼š

```
git init
```

### å…³è”ä½ çš„GitHubè¿œç¨‹ä»“åº“

### GitHub è¿æ¥ä»“åº“çš„è®¤è¯å¯†é’¥

#### **HTTPS ä¸ªäººè®¿é—®ä»¤ç‰Œ**(ä¸å¤ªæ¨èï¼Œå®¹æ˜“443ç«¯å£å‡ºç°é—®é¢˜)

åˆ›å»ºGitHubä¸ªäººè®¿é—®ä»¤ç‰Œçš„ä½ç½®å’Œæ“ä½œè·¯å¾„éå¸¸å›ºå®šã€‚è¯·ç™»å½•ä½ çš„GitHubè´¦æˆ·åï¼ŒæŒ‰ç…§ä¸‹å›¾æ‰€ç¤ºçš„è·¯å¾„æ“ä½œï¼Œå¹¶é‡ç‚¹å…³æ³¨ç®­å¤´æ ‡è¯†çš„å…³é”®æ­¥éª¤ï¼š

```
flowchart LR
    subgraph A[æ“ä½œè·¯å¾„æŒ‡å¼•]
        A1[ç™»å½•GitHub<br>ç‚¹å‡»å³ä¸Šè§’å¤´åƒ] --> A2[åœ¨ä¸‹æ‹‰èœå•ä¸­<br>ç‚¹å‡»â€œSettingsâ€] --> A3[åœ¨å·¦ä¾§è¾¹æ åº•éƒ¨<br>ç‚¹å‡»â€œDeveloper settingsâ€] --> A4[åœ¨æ–°é¡µé¢å·¦ä¾§<br>ç‚¹å‡»â€œPersonal access tokensâ€<br>â†’ â€œTokens (classic)â€] --> A5[ç‚¹å‡»â€œGenerate new tokenâ€<br>â†’ â€œGenerate new token (classic)â€]
    end

    subgraph B[å…³é”®é…ç½®ä¸ç”Ÿæˆ]
        direction TB
        B5[å¡«å†™ Note<br>ï¼ˆä¸ºä»¤ç‰Œå‘½åï¼‰] --> B6[é€‰æ‹© Expiration<br>ï¼ˆå»ºè®®è®¾ç½®æœ‰æ•ˆæœŸï¼‰] --> B7[åœ¨ Select scopes ä¸­<br>åŠ¡å¿…å‹¾é€‰â€œrepoâ€æƒé™] --> B8[ç‚¹å‡»â€œGenerate tokenâ€<br>ç«‹å³å¤åˆ¶å¹¶å¦¥å–„ä¿å­˜ä»¤ç‰Œ]
    end

    A5 --> B5
```

#### åˆ›å»ºä»¤ç‰Œæ—¶çš„å…³é”®ç»†èŠ‚

åœ¨ä¸Šå›¾ç¬¬7æ­¥é€‰æ‹©æƒé™ï¼ˆ`Select scopes`ï¼‰æ—¶ï¼Œä¸ºäº†ä¿è¯èƒ½æ­£å¸¸æ¨é€ä»£ç ï¼Œ

å¯¹äºä½ æ­£åœ¨è¿›è¡Œçš„ MkDocs è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œä¸ºäº†ç¡®ä¿ä¸€åˆ‡é¡ºåˆ©ï¼Œæˆ‘å»ºè®®ä½ åœ¨ç”Ÿæˆä»¤ç‰Œæ—¶ï¼Œ**åŒæ—¶å‹¾é€‰ä»¥ä¸‹ä¸¤ä¸ªæ ¸å¿ƒæƒé™**ï¼š

| æƒé™èŒƒå›´       | æ˜¯å¦å¿…é¡»     | ä½œç”¨                                                         |
| :------------- | :----------- | :----------------------------------------------------------- |
| **`repo`**     | **å¿…é¡»**     | è¿™æ˜¯æ¨é€ä»£ç çš„åŸºç¡€ã€‚å…è®¸è¯»å†™ä»“åº“ä»£ç ã€æäº¤ã€åˆ†æ”¯ç­‰ã€‚         |
| **`workflow`** | **å¼ºçƒˆå»ºè®®** | å…è®¸ä½ çš„å·¥ä½œæµæ–‡ä»¶ï¼ˆ`.github/workflows/deploy.yml`ï¼‰åœ¨ä»“åº“ä¸­è¿è¡Œã€ç®¡ç† Actions ä½œä¸šã€‚ |

å¦‚æœä½ çš„å·¥ä½œæµè¿˜åŒ…å«å…¶ä»–æ“ä½œï¼ˆå¦‚å‘å¸ƒåˆ°GitHub Packagesï¼‰ï¼Œå¯èƒ½éœ€è¦å‹¾é€‰å…¶ä»–æƒé™ï¼Œä½†å¯¹äºä½ çš„ MkDocs éƒ¨ç½²ï¼Œä¸Šé¢ä¸¤é¡¹å°±è¶³å¤Ÿäº†ã€‚

#### é‡è¦å®‰å…¨æç¤º

è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ï¼š**ä»¤ç‰Œåªä¼šåœ¨ç”Ÿæˆæ—¶æ˜¾ç¤ºä¸€æ¬¡**ã€‚ç”Ÿæˆåè¯·åŠ¡å¿…ç«‹å³å°†å…¶**å¤åˆ¶å¹¶ä¿å­˜åœ¨ä¸€ä¸ªå®‰å…¨çš„åœ°æ–¹**ï¼ˆå¦‚å¯†ç ç®¡ç†å™¨ï¼‰ï¼Œå…³é—­é¡µé¢åå°†æ— æ³•å†æ¬¡æŸ¥çœ‹å®Œæ•´ä»¤ç‰Œã€‚

#### ğŸ“ ä»¤ç‰Œçš„ä½¿ç”¨æ–¹æ³•

**é¦–æ¬¡æ¨é€åˆ°GitHubï¼Œè§¦å‘è‡ªåŠ¨åŒ–**æ‰§è¡Œæ¨é€ï¼Œè¿™ä¼šè§¦å‘å·¥ä½œæµè¿è¡Œï¼š

ç³»ç»Ÿä¼šæç¤ºä½ è¾“å…¥GitHubçš„ç”¨æˆ·åå’Œ**ä¸ªäººè®¿é—®ä»¤ç‰Œ**ï¼ˆåœ¨GitHubçš„ Settings -> Developer settings -> Personal access tokens é‡Œåˆ›å»ºï¼Œéœ€è¦æœ‰ `repo` æƒé™ï¼‰ã€‚

ç”Ÿæˆä»¤ç‰Œåï¼Œå›åˆ°ä½ æœåŠ¡å™¨ä¸Šçš„å‘½ä»¤è¡Œï¼Œå†æ¬¡å°è¯• `git push` æ“ä½œã€‚å½“ç³»ç»Ÿæç¤ºè¾“å…¥ç”¨æˆ·åå’Œå¯†ç æ—¶ï¼š

- **Username**: è¾“å…¥ä½ çš„GitHubç”¨æˆ·åã€‚
- **Password**: **ä¸è¦**è¾“å…¥ä½ çš„GitHubç™»å½•å¯†ç ï¼Œè€Œæ˜¯ç²˜è´´ä½ åˆšæ‰ç”Ÿæˆçš„**ä¸ªäººè®¿é—®ä»¤ç‰Œ**ã€‚

ä¹‹åï¼Œä½ åº”è¯¥å°±èƒ½æˆåŠŸæ¨é€ä»£ç å¹¶è§¦å‘GitHub Actionsè‡ªåŠ¨éƒ¨ç½²äº†ã€‚

#### é€šè¿‡SSHåè®®é“¾æ¥è¿œç¨‹ä»“åº“ï¼ˆå¼ºçƒˆæ¨èï¼‰

å¦‚æœä»¥ä¸Šç½‘ç»œæ’æŸ¥å¤æ‚æˆ–æ— æ•ˆï¼Œ**æ”¹ç”¨SSHåè®®æ˜¯ç»•è¿‡443ç«¯å£é—®é¢˜æœ€å¿«ã€æœ€æœ‰æ•ˆçš„æ–¹æ³•**ã€‚æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š

1. **åœ¨æœåŠ¡å™¨ç”ŸæˆSSHå¯†é’¥**ï¼ˆå¦‚æœå°šæœªç”Ÿæˆï¼‰ï¼š

   bash

   ```
   ssh-keygen -t ed25519 -C "your_email@example.com"
   ```

   ä¸€è·¯æŒ‰å›è½¦ä½¿ç”¨é»˜è®¤è·¯å¾„å’Œç©ºå¯†ç å³å¯ã€‚

2. **å°†å…¬é’¥æ·»åŠ åˆ°GitHub**ï¼š

   - æ‰“å°å…¬é’¥ï¼š`cat ~/.ssh/id_ed25519.pub`
   - å¤åˆ¶è¾“å‡ºçš„å…¨éƒ¨å†…å®¹ã€‚
   - ç™»å½•GitHub â†’ ç‚¹å‡»å¤´åƒ â†’ **Settings** â†’ **SSH and GPG keys** â†’ **New SSH key** â†’ ç²˜è´´å¹¶ä¿å­˜ã€‚

3. **å°†æœ¬åœ°ä»“åº“è¿œç¨‹åœ°å€åˆ‡æ¢ä¸ºSSHæ ¼å¼**ï¼š

   ```
   git remote set-url origin git@github.com:walteryangg/MKdocs.git
   ```
   
4. **æµ‹è¯•SSHè¿æ¥å¹¶æ¨é€**ï¼š

   ```
   ssh -T git@github.com  # æµ‹è¯•è¿æ¥ï¼Œé¢„æœŸçœ‹åˆ°æˆåŠŸè®¤è¯çš„æ¬¢è¿è¯­
   ```



### æäº¤å·¥ä½œæµæ–‡ä»¶ï¼š

`.github/workflows/deploy.yml`

```
git add .github/workflows/deploy.yml
git commit -m "feat: æ·»åŠ GitHub Actionsè‡ªåŠ¨éƒ¨ç½²å·¥ä½œæµ"
```

### é¦–æ¬¡æ¨é€åˆ°GitHubï¼Œè§¦å‘è‡ªåŠ¨åŒ–

```
git branch -M main  # ç¡®ä¿åˆ†æ”¯åç§°ä¸ºmainï¼ˆå¦‚æœå·²æ˜¯masteråˆ†æ”¯å¯è·³è¿‡ï¼‰
git push -u origin main
```

> ç¬¬ä¸€æ¬¡ç”¨Gitéƒ¨ç½²æ—¶å¯èƒ½ä¼šé‡åˆ°ä¸€ä¸ªå¸¸è§çš„é”™è¯¯
>
> å³**è¿œç¨‹ä»“åº“ (`origin/main`) å·²ç»å­˜åœ¨ä¸€äº›ä½ åœ¨æœ¬åœ°ä»“åº“æ²¡æœ‰çš„æäº¤**ã€‚
>
> è¿™é€šå¸¸æ˜¯å› ä¸ºä½ åœ¨GitHubç½‘é¡µä¸Šåˆ›å»º `MKdocs` ä»“åº“æ—¶ï¼Œ**å‹¾é€‰äº†â€œä½¿ç”¨READMEåˆå§‹åŒ–â€é€‰é¡¹**ã€‚å› æ­¤ï¼Œè¿œç¨‹ä»“åº“ä¸€å¼€å§‹å°±æœ‰ä¸€ä¸ª `README.md` æ–‡ä»¶çš„æäº¤ï¼Œè€Œä½ çš„æœ¬åœ°ä»“åº“æ²¡æœ‰è¿™ä¸ªæäº¤å†å²ï¼ŒGitä¸ºäº†ä¿æŠ¤è¿œç¨‹ä»“åº“çš„ä¿®æ”¹ä¸è¢«è¦†ç›–ï¼Œæ‹’ç»äº†ä½ çš„æ¨é€ã€‚

**è§£å†³æ–¹æ¡ˆï¼šå…ˆåŒæ­¥ï¼Œå†æ¨é€**ï¼šä½ éœ€è¦åœ¨æ¨é€å‰ï¼Œå…ˆå°†è¿œç¨‹ä»“åº“çš„æ›´æ”¹â€œæ‹‰å–â€åˆ°æœ¬åœ°ï¼Œä¸ä½ æœ¬åœ°çš„æ›´æ”¹è¿›è¡Œåˆå¹¶ã€‚æ ¹æ®ä½ æ˜¯å¦éœ€è¦ä¿ç•™è¿œç¨‹çš„åˆå§‹æ–‡ä»¶ï¼ˆå¦‚ `README.md`ï¼‰

```
#1. å°†è¿œç¨‹çš„æ›´æ”¹æ‹‰å–åˆ°æœ¬åœ°ï¼Œå¹¶å°è¯•åˆå¹¶
git pull origin main --allow-unrelated-histories

#2. å¦‚æœä¸Šä¸€æ­¥æˆåŠŸï¼Œæ²¡æœ‰å†²çªï¼Œåˆ™ç›´æ¥æ¨é€
git push -u origin main
```

## å››ã€éƒ¨ç½²å’ŒéªŒè¯

- **æ ¸å¿ƒæ“ä½œ**ï¼šé€šè¿‡ `git add`, `git commit`, `git push` æ¨é€ä»£ç åˆ° `main` åˆ†æ”¯ï¼Œè‡ªåŠ¨è§¦å‘å·¥ä½œæµã€‚
- **éªŒè¯æ–¹æ³•**ï¼š
  1. ç«‹å³æŸ¥çœ‹ä»“åº“çš„ **Actions** æ ‡ç­¾é¡µï¼Œç›‘æ§å·¥ä½œæµè¿è¡ŒçŠ¶æ€ï¼ˆæˆåŠŸ/å¤±è´¥ï¼‰ã€‚
  2. å·¥ä½œæµæˆåŠŸåï¼Œè¿›å…¥ä»“åº“ **Settings -> Pages**ï¼Œç¡®è®¤æºä¸º `gh-pages` åˆ†æ”¯ã€‚
  3. è®¿é—® `https://<ç”¨æˆ·å>.github.io/<ä»“åº“å>` æŸ¥çœ‹çº¿ä¸Šç«™ç‚¹ã€‚
- **è°ƒè¯•å…³é”®**ï¼šå·¥ä½œæµå¤±è´¥æ—¶ï¼Œ**ä»”ç»†é˜…è¯»Actionsæ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯**ï¼Œå®ƒæ˜¯è§£å†³é—®é¢˜çš„ç›´æ¥ä¾æ®ã€‚å¸¸è§é”™è¯¯åŒ…æ‹¬ï¼šä¾èµ–æœªå®‰è£…ã€é…ç½®æ–‡ä»¶é”™è¯¯ã€æ’ä»¶ç¼ºå¤±ã€è·¯å¾„ä¸æ­£ç¡®ç­‰ã€‚

### æ¨é€é¡¹ç›®åˆ° `main` åˆ†æ”¯

```
git add mkdocs.yml
git commit -m "æ·»åŠ ä¾èµ–æ–‡ä»¶ requirements.txt"
git push origin main
```

### éªŒè¯

æ¨é€æˆåŠŸåï¼Œè¯·ç«‹å³å»ä½ çš„GitHubä»“åº“é¡µé¢æŸ¥çœ‹ï¼š

- **Code æ ‡ç­¾é¡µ**ï¼šç¡®è®¤æ–‡ä»¶å·²æ›´æ–°ï¼ˆåº”åŒ…å« `.github/workflows/deploy.yml`ï¼‰ã€‚
- **Actions æ ‡ç­¾é¡µ**ï¼šè¿™æ˜¯å…³é”®ï¼å‡ ç§’é’Ÿåï¼Œä¸€ä¸ªåä¸º â€œDeploy MkDocsâ€ çš„å·¥ä½œæµåº”è¯¥ä¼šè¢«è‡ªåŠ¨è§¦å‘å¹¶å¼€å§‹è¿è¡Œã€‚ç­‰å¾…å®ƒå˜æˆç»¿è‰²çš„ **âœ…**ï¼Œä½ çš„ç½‘ç«™å°±éƒ¨ç½²æˆåŠŸäº†ã€‚

## äº”ã€è‡ªå®šä¹‰åŸŸå

1. **é…ç½®DNSè§£æ**
   ä½ éœ€è¦**åœ¨ä½ çš„åŸŸåæœåŠ¡å•†ï¼ˆå¦‚é˜¿é‡Œäº‘ã€Cloudflareç­‰ï¼‰çš„ç®¡ç†åå°æ·»åŠ ä¸€æ¡CNAMEè®°å½•**ã€‚
   - **ä¸»æœºè®°å½•/åç§°**ï¼šå¡«å†™ä½ æƒ³è¦çš„å­åŸŸåï¼Œä¾‹å¦‚ `home`ã€‚
   - **è®°å½•ç±»å‹**ï¼šé€‰æ‹© `CNAME`ã€‚
   - **è®°å½•å€¼/ç›®æ ‡**ï¼šå¡«å†™ `walteryangg.github.io`ï¼ˆ**æ³¨æ„ï¼šç»“å°¾çš„`.`é€šå¸¸ä¸éœ€è¦åŠ **ï¼‰ã€‚
2. **åœ¨GitHubä»“åº“ä¸­è®¾ç½®è‡ªå®šä¹‰åŸŸå**
   - è¿›å…¥ä½ çš„GitHubä»“åº“ï¼Œç‚¹å‡» **Settings > Pages**ã€‚
   - åœ¨ **Custom domain** è¾“å…¥æ¡†ä¸­ï¼Œå¡«å…¥ä½ çš„å®Œæ•´åŸŸåï¼ˆä¾‹å¦‚ `home.sth.ink`ï¼‰ï¼Œç„¶åç‚¹å‡» **Save**ã€‚
   - **é‡è¦**ï¼šä¿å­˜åï¼ŒåŠ¡å¿…å‹¾é€‰ä¸‹æ–¹çš„ **Enforce HTTPS** é€‰é¡¹ï¼Œè®©GitHubä¸ºä½ çš„åŸŸåæä¾›å…è´¹çš„SSLè¯ä¹¦ï¼Œå¯ç”¨HTTPSåŠ å¯†è®¿é—®ã€‚
3. **åœ¨MkDocsé¡¹ç›®ä¸­å›ºåŒ–åŸŸåé…ç½®ï¼ˆå…³é”®ï¼‰**
   ä¸ºé˜²æ­¢GitHub Pagesè®¾ç½®è¢«é‡ç½®ï¼Œä½ éœ€è¦åœ¨é¡¹ç›® `docs` ç›®å½•ä¸‹æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªåä¸º **`CNAME`** çš„æ–‡ä»¶ï¼ˆæ— æ‰©å±•åï¼‰ï¼Œå†…å®¹å°±æ˜¯ä½ çš„ä¸€è¡ŒåŸŸåã€‚ä¾‹å¦‚ï¼š

```
home.sth.ink
```

åŒæ—¶ï¼Œå»ºè®®å°† `site_url` é…ç½®æ›´æ–°åˆ° `mkdocs.yml` ä¸­ï¼Œç¡®ä¿ç½‘ç«™å†…çš„é“¾æ¥æ­£ç¡®ç”Ÿæˆï¼š

``` 
site_url: https://home.sth.ink
```



### å…­ã€é¡¹ç›®ç»“æ„

``` 
â”œâ”€â”€ docs        # Markdownæ–‡æ¡£æºæ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ blog
â”‚   â”‚   â”œâ”€â”€ img
â”‚   â”‚   â”‚   â””â”€â”€ imgtest
â”‚   â”‚   â”‚       â””â”€â”€ å›¾ç‰‡1.jpg
â”‚   â”‚   â”œâ”€â”€ index.md
â”‚   â”‚   â”œâ”€â”€ posts
â”‚   â”‚   â”‚   â”œâ”€â”€ åšå®¢æ–‡ç« .md
â”‚   â”‚   â””â”€â”€ tag.md
â”‚   â”œâ”€â”€ CNAME      # è‡ªå®šä¹‰åŸŸå
â”‚   â”œâ”€â”€ doc
â”‚   â”‚   â””â”€â”€ é¡¹ç›®æ–‡ç« .md
â”‚   â”œâ”€â”€ index.md
â”‚   â””â”€â”€ styles
â”‚       â”œâ”€â”€ extra.css
â”‚       â””â”€â”€ homepage.css
â”œâ”€â”€ mkdocs.yml    # MkDocsç«™ç‚¹é…ç½®æ–‡ä»¶
â”œâ”€â”€.github
â”‚  â””â”€â”€â”€â”€workflows
â”‚       â””â”€â”€ deploy.yml    # è‡ªåŠ¨åŒ–å·¥ä½œæµé…ç½®æ–‡ä»¶
â”‚
â””â”€â”€ requirements.txt      # Pythonä¾èµ–åˆ—è¡¨

```
